{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { auth } from '@/util/auth';\r\nimport { NextResponse } from 'next/server';\r\nimport type { NextRequest } from 'next/server';\r\n\r\nconst publicRoutes = ['/auth', '/public',];\r\n\r\nexport async function middleware(request: NextRequest) {\r\n  const { pathname } = request.nextUrl;\r\n\r\n  const isPublic = publicRoutes.some(route => pathname.startsWith(route));\r\n  if (isPublic) return NextResponse.next();\r\n\r\n  const session = await auth();\r\n\r\n  if (!session || !session.user) {\r\n    const callbackUrl = encodeURIComponent(request.nextUrl.pathname);\r\n    return NextResponse.redirect(new URL(`/auth/login?callbackUrl=${callbackUrl}`, request.url));\r\n  }\r\n\r\n  return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n  matcher: ['/((?!api|_next/static|_next/image|.*\\\\.png$).*)'],\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;AACA;AAAA;;;AAGA,MAAM,eAAe;IAAC;IAAS;CAAW;AAEnC,eAAe,WAAW,OAAoB;IACnD,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,MAAM,WAAW,aAAa,IAAI,CAAC,CAAA,QAAS,SAAS,UAAU,CAAC;IAChE,IAAI,UAAU,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;IAEtC,MAAM,UAAU,MAAM;IAEtB,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,EAAE;QAC7B,MAAM,cAAc,mBAAmB,QAAQ,OAAO,CAAC,QAAQ;QAC/D,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,wBAAwB,EAAE,aAAa,EAAE,QAAQ,GAAG;IAC5F;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAkD;AAC9D"}}]
}